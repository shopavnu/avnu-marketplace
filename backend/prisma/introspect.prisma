generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// This existing table should be retained; Prisma will ignore it during migrations.
model BusinessMetrics {
  id              String                                @id(map: "PK_0e0b099eef5add99fc9467bc5fe") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  metricType      business_metrics_metrictype_enum
  value           Float                                 @default(0)
  count           Int?
  dimension1      String?                               @db.VarChar
  dimension2      String?                               @db.VarChar
  dimension3      String?                               @db.VarChar
  timeGranularity business_metrics_timegranularity_enum @default(daily)
  timestamp       DateTime                              @default(now()) @db.Timestamp(6)
  periodStart     DateTime                              @db.Timestamp(6)
  periodEnd       DateTime                              @db.Timestamp(6)

  @@index([dimension1], map: "IDX_095971a29c61a5a13260824703")
  @@index([metricType], map: "IDX_8aaccea38e9b5b31e62f848583")
  @@index([dimension3], map: "IDX_8c10b7c1f8d48635c7a89086e5")
  @@index([timestamp], map: "IDX_9d7182b011c4c968a8d7231834")
  @@index([dimension2], map: "IDX_a0dda41f926d84029b29a3e252")
  @@index([periodStart], map: "IDX_b8e5ceaf38b592d53f81c0db3d")
  @@map("business_metrics")
  @@ignore
}

model alert_affected_segments {
  alert_id      String        @db.Uuid
  segment_id    String        @db.Uuid
  alerts        alerts        @relation(fields: [alert_id], references: [id], onDelete: Cascade, map: "FK_4f6b7ade7468ab52d07d2981be1")
  user_segments user_segments @relation(fields: [segment_id], references: [id], onDelete: Cascade, map: "FK_e45e1c562059b9f9173db474447")

  @@id([alert_id, segment_id], map: "PK_b30a220d6952b688092e9ae2f47")
  @@index([alert_id], map: "IDX_4f6b7ade7468ab52d07d2981be")
  @@index([segment_id], map: "IDX_e45e1c562059b9f9173db47444")
}

model alert_metrics {
  id               String  @id(map: "PK_7f2e3fda5044439000cd969321d") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name             String  @db.VarChar(255)
  value            Float
  previousValue    Float
  changePercentage Float
  threshold        Float
  alert_id         String? @db.Uuid
  alerts           alerts? @relation(fields: [alert_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_71cf95fcb9a6db5283668e02628")
}

model alerts {
  id                      String                    @id(map: "PK_60f895662df096bfcdfab7f4b96") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  title                   String                    @db.VarChar(255)
  description             String
  type                    alerts_type_enum          @default(PERSONALIZATION_DROP)
  severity                alerts_severity_enum      @default(MEDIUM)
  status                  alerts_status_enum        @default(ACTIVE)
  createdAt               DateTime                  @default(now()) @db.Timestamp(6)
  updatedAt               DateTime                  @default(now()) @db.Timestamp(6)
  alert_affected_segments alert_affected_segments[]
  alert_metrics           alert_metrics[]
}

model api_performance_metrics {
  id           String   @id(map: "PK_e0a913160fb3ac061e220f48b98") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  endpoint     String   @db.VarChar
  method       String   @db.VarChar
  responseTime Int
  statusCode   Int
  userId       String?  @db.VarChar
  sessionId    String?  @db.VarChar
  timestamp    DateTime @default(now()) @db.Timestamp(6)

  @@index([timestamp], map: "IDX_ac29a04e54f21592ddc0922cdf")
  @@index([endpoint], map: "IDX_e16b7f90f71f7c23f102b4caad")
}

model brands {
  id           String   @id(map: "PK_b0c437120b624da1034a81fc561") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name         String   @db.VarChar
  description  String?
  logo         String?  @db.VarChar
  website      String?  @db.VarChar
  values       String?
  categories   String?
  foundedYear  Int?
  origin       String?  @db.VarChar
  rating       Decimal  @default(0) @db.Decimal(3, 2)
  reviewCount  Int      @default(0)
  productCount Int      @default(0)
  createdAt    DateTime @default(now()) @db.Timestamp(6)
  updatedAt    DateTime @default(now()) @db.Timestamp(6)
  isActive     Boolean  @default(true)
  popularity   Decimal  @default(0) @db.Decimal(10, 2)
}

model carts {
  id         String    @id(map: "PK_b5f695a59f5ebb50af3c8160816") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId     String    @db.VarChar
  items      Json      @default("[]")
  createdAt  DateTime  @default(now()) @db.Timestamp(6)
  updatedAt  DateTime  @default(now()) @db.Timestamp(6)
  lastActive DateTime? @db.Timestamp(6)
  abandoned  Boolean   @default(false)
}

model categories {
  id          String   @id(map: "PK_24dbc6126a28ff948da33e97d3b") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name        String   @db.VarChar
  description String?  @db.VarChar
  imageUrl    String?  @db.VarChar
  isActive    Boolean  @default(true)
  parentId    String?  @db.VarChar
  tags        String[] @default([])
  createdAt   DateTime @default(now()) @db.Timestamp(6)
  updatedAt   DateTime @default(now()) @db.Timestamp(6)
}

model client_performance_metrics {
  id                     String   @id(map: "PK_0f659fe08f77ae55d6fee734dc8") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId                 String?  @db.VarChar
  sessionId              String   @db.VarChar
  pagePath               String   @db.VarChar
  deviceType             String?  @db.VarChar
  platform               String?  @db.VarChar
  browserName            String?  @db.VarChar
  browserVersion         String?  @db.VarChar
  firstContentfulPaint   Float
  largestContentfulPaint Float
  firstInputDelay        Float?
  cumulativeLayoutShift  Float
  timeToInteractive      Float?
  totalBlockingTime      Float?
  domContentLoaded       Float?
  windowLoad             Float?
  resourceLoadTimes      Json?    @db.Json
  networkInformation     Json?    @db.Json
  timestamp              DateTime @default(now()) @db.Timestamp(6)

  @@index([pagePath], map: "IDX_0b3e843d03ad3f3d0c2af3b624")
  @@index([timestamp], map: "IDX_531da9104c52ccb60754d42338")
  @@index([sessionId], map: "IDX_664f4b7d23f7864840b9d84c64")
  @@index([userId], map: "IDX_73df89bd5da03ac1cad7668dd3")
}

model experiment_results {
  id                  String                             @id(map: "PK_626d1c95eebdb8ca02c2260f6a3") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  variantId           String                             @db.Uuid
  userId              String?                            @db.VarChar
  sessionId           String?                            @db.VarChar
  resultType          experiment_results_resulttype_enum
  value               Float?
  context             String?                            @db.VarChar
  metadata            Json?                              @db.Json
  timestamp           DateTime                           @default(now()) @db.Timestamp(6)
  experiment_variants experiment_variants                @relation(fields: [variantId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_11e4de52ffb285c6e44340bc3e5")
}

model experiment_variants {
  id                 String               @id(map: "PK_1ab87aafc77c9f29445722fcdd8") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name               String               @db.VarChar
  description        String?              @db.VarChar
  isControl          Boolean              @default(false)
  experimentId       String               @db.Uuid
  configuration      Json?                @db.Json
  impressions        Int                  @default(0)
  conversions        Int                  @default(0)
  conversionRate     Float                @default(0)
  improvementRate    Float?
  isWinner           Boolean              @default(false)
  confidenceLevel    Float?
  createdAt          DateTime             @default(now()) @db.Timestamp(6)
  updatedAt          DateTime             @default(now()) @db.Timestamp(6)
  experiment_results experiment_results[]
  experiments        experiments          @relation(fields: [experimentId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_a5408d0f8f271922f7aadd01d24")
}

model experiments {
  id                  String                  @id(map: "PK_aafe1321d916fac58ba06ad8178") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name                String                  @db.VarChar
  description         String?                 @db.VarChar
  status              experiments_status_enum @default(draft)
  type                experiments_type_enum
  targetAudience      String?                 @db.VarChar
  audiencePercentage  Int?
  startDate           DateTime?               @db.Timestamp(6)
  endDate             DateTime?               @db.Timestamp(6)
  hypothesis          String?                 @db.VarChar
  primaryMetric       String?                 @db.VarChar
  secondaryMetrics    String?
  hasWinner           Boolean                 @default(false)
  winningVariantId    String?                 @db.VarChar
  segmentation        Json?                   @db.Json
  createdAt           DateTime                @default(now()) @db.Timestamp(6)
  updatedAt           DateTime                @default(now()) @db.Timestamp(6)
  experiment_variants experiment_variants[]
}

model focus_states {
  id              String   @id(map: "PK_1a35625e1bc4e305926e05343a1") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId          String   @db.VarChar
  sessionId       String   @db.VarChar
  route           String   @db.VarChar
  sectionId       String   @db.VarChar
  elementId       String?  @db.VarChar
  elementSelector String?  @db.VarChar
  context         String?  @db.VarChar
  lastActive      DateTime @db.Timestamp(6)
  isActive        Boolean  @default(true)
  createdAt       DateTime @default(now()) @db.Timestamp(6)
  updatedAt       DateTime @default(now()) @db.Timestamp(6)

  @@index([lastActive], map: "IDX_1fa53578520d1b5fb3a6eb38cf")
  @@index([userId], map: "IDX_3a1a3175168e427d2b150b3cb9")
  @@index([sessionId], map: "IDX_79e3d22292f3e410ef555e1159")
}

model heatmap_data {
  id                 String                            @id(map: "PK_e7cc7a12db7c5738f483ab36fc7") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId             String?                           @db.VarChar
  sessionId          String                            @db.VarChar
  pagePath           String                            @db.VarChar
  interactionType    heatmap_data_interactiontype_enum
  xPosition          Int
  yPosition          Int
  elementSelector    String?                           @db.VarChar
  elementId          String?                           @db.VarChar
  elementText        String?                           @db.VarChar
  dwellTimeMs        Int?
  deviceType         String?                           @db.VarChar
  platform           String?                           @db.VarChar
  viewportDimensions Json?                             @db.Json
  timestamp          DateTime                          @default(now()) @db.Timestamp(6)

  @@index([timestamp], map: "IDX_59bdc9b37d46252760b89236cf")
  @@index([pagePath], map: "IDX_63e703c930e329f6906da46f29")
  @@index([interactionType], map: "IDX_75a59e50250a2cce70ccdb1d2f")
  @@index([sessionId], map: "IDX_9f3ffb2ab174798ffc2d3c45f6")
  @@index([userId], map: "IDX_ddd44f855f151e735ffa25740e")
}

model keyboard_shortcuts {
  id          String   @id(map: "PK_72f8e3763c6384989fcedd599a5") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name        String   @db.VarChar
  description String   @db.VarChar
  shortcutKey Json     @db.Json
  userId      String?  @db.VarChar
  sectionId   String?  @db.VarChar
  route       String?  @db.VarChar
  action      String?  @db.VarChar
  isGlobal    Boolean  @default(true)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now()) @db.Timestamp(6)
  updatedAt   DateTime @default(now()) @db.Timestamp(6)

  @@index([name], map: "IDX_c738fe04435f0a5b665d1a1c88")
  @@index([userId], map: "IDX_d0d1700f06edad8b958cc14a4c")
}

model merchant_ad_campaigns {
  id                      String                                    @id(map: "PK_36baf0b2f71af62c024878e112f") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  merchantId              String                                    @db.Uuid
  name                    String                                    @db.VarChar
  description             String?
  type                    merchant_ad_campaigns_type_enum           @default(product_promotion)
  status                  merchant_ad_campaigns_status_enum         @default(draft)
  productIds              String
  budget                  Decimal                                   @db.Decimal(10, 2)
  spent                   Decimal?                                  @default(0) @db.Decimal(10, 2)
  targetAudience          merchant_ad_campaigns_targetaudience_enum @default(all)
  targetDemographics      String?
  targetLocations         String?
  targetInterests         String?
  startDate               DateTime                                  @db.Timestamp(6)
  endDate                 DateTime?                                 @db.Timestamp(6)
  impressions             Int?                                      @default(0)
  clicks                  Int?                                      @default(0)
  clickThroughRate        Decimal?                                  @db.Decimal(5, 2)
  conversions             Int?                                      @default(0)
  conversionRate          Decimal?                                  @db.Decimal(5, 2)
  createdAt               DateTime                                  @default(now()) @db.Timestamp(6)
  updatedAt               DateTime                                  @default(now()) @db.Timestamp(6)
  lastUpdatedByMerchantAt DateTime?                                 @db.Timestamp(6)
  merchants               merchants                                 @relation(fields: [merchantId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_5e56bd68cb22033c41def9bf2b4")
}

model merchant_analytics {
  id                 String    @id(map: "PK_bd19dd6d4ec4146ba124396c98f") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  merchantId         String    @db.Uuid
  productId          String?   @db.VarChar
  categoryId         String?   @db.VarChar
  date               DateTime  @db.Timestamp(6)
  timeFrame          String    @db.VarChar
  revenue            Decimal   @default(0) @db.Decimal(10, 2)
  orders             Int       @default(0)
  productViews       Int       @default(0)
  organicImpressions Int       @default(0)
  paidImpressions    Int       @default(0)
  clicks             Int       @default(0)
  addToCarts         Int       @default(0)
  abandonedCarts     Int       @default(0)
  conversionRate     Decimal   @default(0) @db.Decimal(5, 2)
  clickThroughRate   Decimal   @default(0) @db.Decimal(5, 2)
  demographics       String?
  createdAt          DateTime  @default(now()) @db.Timestamp(6)
  updatedAt          DateTime  @default(now()) @db.Timestamp(6)
  merchants          merchants @relation(fields: [merchantId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_e22295a2d4b8fba97e8f45774ab")
}

model merchant_brands {
  id               String    @id(map: "PK_df70cf0b490da7e619094735819") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  merchantId       String    @db.Uuid
  name             String    @db.VarChar
  description      String?
  logo             String?   @db.VarChar
  colorPalette     String?
  primaryColor     String?   @db.VarChar
  secondaryColor   String?   @db.VarChar
  accentColor      String?   @db.VarChar
  brandStory       String?
  foundedYear      Int?
  socialMediaLinks String?
  createdAt        DateTime  @default(now()) @db.Timestamp(6)
  updatedAt        DateTime  @default(now()) @db.Timestamp(6)
  isActive         Boolean   @default(true)
  merchants        merchants @relation(fields: [merchantId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_890fc865ea6269dd67f40a61f8f")
}

model merchant_platform_connections {
  id                          Int                           @id(map: "PK_c60d2c722c9716557ff0715f92b") @default(autoincrement())
  merchant_id                 String                        @db.Uuid
  platform_type               String                        @db.VarChar
  platform_identifier         String?                       @db.VarChar
  platform_store_name         String                        @db.VarChar
  platform_store_url          String                        @db.VarChar
  access_token                String?                       @db.VarChar
  refresh_token               String?                       @db.VarChar
  token_expires_at            DateTime?                     @db.Timestamp(6)
  is_active                   Boolean                       @default(true)
  last_synced_at              DateTime?                     @db.Timestamp(6)
  last_sync_status            String?                       @db.VarChar
  last_sync_error             String?
  platform_config             Json?                         @db.Json
  metadata                    Json?                         @db.Json
  created_at                  DateTime                      @default(now()) @db.Timestamp(6)
  updated_at                  DateTime                      @default(now()) @db.Timestamp(6)
  merchants                   merchants                     @relation(fields: [merchant_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_2590ccc1e39fd0e75aeeda9ed74")
  shopify_bulk_operation_jobs shopify_bulk_operation_jobs[]
}

model merchant_products {
  id                 String    @id(map: "PK_4bb22c3a0977c6d45349ddc7f5d") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  merchantId         String    @db.Uuid
  productId          String    @db.VarChar
  isVisible          Boolean   @default(true)
  isPromoted         Boolean   @default(false)
  monthlyAdBudget    Decimal?  @db.Decimal(10, 2)
  adSpendToDate      Decimal?  @db.Decimal(10, 2)
  organicImpressions Int?
  paidImpressions    Int?
  conversionRate     Decimal?  @db.Decimal(5, 2)
  clicks             Int?
  cartAdds           Int?
  cartAbandons       Int?
  enableRetargeting  Boolean   @default(false)
  retargetingBudget  Decimal?  @db.Decimal(10, 2)
  createdAt          DateTime  @default(now()) @db.Timestamp(6)
  updatedAt          DateTime  @default(now()) @db.Timestamp(6)
  lastPromotedAt     DateTime? @db.Timestamp(6)
  merchants          merchants @relation(fields: [merchantId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_acbc0a5e79a1c5cde684995793f")
}

model merchant_shipping_settings {
  id                    String    @id(map: "PK_3452954bcf7327ec3145901a318") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  merchantId            String    @db.Uuid
  offersFreeShipping    Boolean   @default(false)
  freeShippingThreshold Decimal?  @db.Decimal(10, 2)
  standardShippingRate  Decimal?  @db.Decimal(10, 2)
  expeditedShippingRate Decimal?  @db.Decimal(10, 2)
  shippingCountries     String?
  excludedRegions       String?
  createdAt             DateTime  @default(now()) @db.Timestamp(6)
  updatedAt             DateTime  @default(now()) @db.Timestamp(6)
  merchants             merchants @relation(fields: [merchantId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_75ea9ce5a34bf0529592e6477b1")
}

model merchants {
  id                            String                          @id(map: "PK_4fd312ef25f8e05ad47bfe7ed25") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name                          String                          @db.VarChar
  description                   String?
  logo                          String?                         @db.VarChar
  website                       String?                         @db.VarChar
  email                         String                          @db.VarChar
  values                        String?
  categories                    String?
  latitude                      Decimal?                        @db.Decimal(10, 7)
  longitude                     Decimal?                        @db.Decimal(10, 7)
  rating                        Decimal                         @default(0) @db.Decimal(3, 2)
  reviewCount                   Int                             @default(0)
  productCount                  Int                             @default(0)
  createdAt                     DateTime                        @default(now()) @db.Timestamp(6)
  updatedAt                     DateTime                        @default(now()) @db.Timestamp(6)
  isActive                      Boolean                         @default(true)
  popularity                    Decimal                         @default(0) @db.Decimal(10, 2)
  userId                        String?                         @db.Uuid
  merchant_ad_campaigns         merchant_ad_campaigns[]
  merchant_analytics            merchant_analytics[]
  merchant_brands               merchant_brands[]
  merchant_platform_connections merchant_platform_connections[]
  merchant_products             merchant_products[]
  merchant_shipping_settings    merchant_shipping_settings[]
  users                         users?                          @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_c4199d0353747c821386791f813")
}

model navigation_sections {
  id              String   @id(map: "PK_2d77d176adf81af4fd97182bef0") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name            String   @db.VarChar
  route           String   @db.VarChar
  selector        String   @db.VarChar
  childSelectors  String?
  priority        Int
  description     String?  @db.VarChar
  ariaLabel       String?  @db.VarChar
  parentSectionId String?  @db.VarChar
  isActive        Boolean  @default(true)
  createdAt       DateTime @default(now()) @db.Timestamp(6)
  updatedAt       DateTime @default(now()) @db.Timestamp(6)

  @@index([name], map: "IDX_ad8a1bd613300e982755823fbc")
  @@index([priority], map: "IDX_ceb080ef172c8f8862b3570325")
  @@index([route], map: "IDX_ec3aeb24f7217599f1fc754460")
}

model order_fulfillments {
  id                    String                         @id(map: "PK_f01b61fa5f54b3fc235cdc759ce") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  orderId               String                         @db.Uuid
  status                order_fulfillments_status_enum @default(unfulfilled)
  trackingNumber        String?                        @db.VarChar
  trackingUrl           String?                        @db.VarChar
  carrierName           String?                        @db.VarChar
  estimatedDeliveryDate DateTime?                      @db.Timestamp(6)
  deliveredAt           DateTime?                      @db.Timestamp(6)
  notes                 String?
  createdAt             DateTime                       @default(now()) @db.Timestamp(6)
  updatedAt             DateTime                       @default(now()) @db.Timestamp(6)
  deletedAt             DateTime?                      @db.Timestamp(6)
  orders                orders                         @relation(fields: [orderId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_ce6c6485056e1e51b94843d123d")

  @@index([status], map: "IDX_331cb9a05a9d4cd3de09cc7b3c")
  @@index([orderId], map: "IDX_ce6c6485056e1e51b94843d123")
}

model order_items {
  id        String    @id(map: "PK_005269d8574e6fac0493715c308") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  orderId   String    @db.Uuid
  productId String    @db.VarChar
  variantId String?   @db.VarChar
  quantity  Int
  price     Decimal   @db.Decimal(10, 2)
  options   String?
  createdAt DateTime  @default(now()) @db.Timestamp(6)
  updatedAt DateTime  @default(now()) @db.Timestamp(6)
  deletedAt DateTime? @db.Timestamp(6)
  orders    orders    @relation(fields: [orderId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_f1d359a55923bb45b057fbdab0d")

  @@index([productId], map: "IDX_cdb99c05982d5191ac8465ac01")
  @@index([orderId], map: "IDX_f1d359a55923bb45b057fbdab0")
}

model orders {
  id                    String                    @id(map: "PK_710e2d4957aa5878dfe94e4ac2f") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId                String                    @db.VarChar(100)
  status                orders_status_enum        @default(pending)
  paymentStatus         orders_paymentstatus_enum @default(pending)
  shippingAddress       Json                      @db.Json
  notes                 String?
  isPriority            Boolean                   @default(false)
  syncStatus            orders_syncstatus_enum    @default(pending)
  platformType          String?                   @db.VarChar(50)
  platformActions       Json?                     @default("{\"canCancel\": false, \"canRefund\": false, \"canFulfill\": false}") @db.Json
  customerEmail         String                    @db.VarChar(255)
  createdAt             DateTime                  @default(now()) @db.Timestamp(6)
  updatedAt             DateTime                  @default(now()) @db.Timestamp(6)
  deletedAt             DateTime?                 @db.Timestamp(6)
  stripePaymentIntentId String?                   @db.VarChar(255)
  stripeReceiptUrl      String?
  order_fulfillments    order_fulfillments[]
  order_items           order_items[]

  @@index([paymentStatus], map: "IDX_01b20118a3f640214e7a8a6b29")
  @@index([userId], map: "IDX_151b79a83ba240b0cb31b2302d")
  @@index([status], map: "IDX_775c9f06fc27ae3ff8fb26f2c4")
  @@index([syncStatus], map: "IDX_f5ee4214818939860b6236fe0e")
}

model product_recommendations {
  id                 String                                          @id(map: "PK_34c228b0d96e8ff52db667b4c22") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId             String                                          @db.VarChar
  sessionId          String?                                         @db.VarChar
  productId          String                                          @db.VarChar
  recommendationType product_recommendations_recommendationtype_enum @default(similar_products)
  algorithmId        String                                          @db.VarChar
  score              Float
  position           Int                                             @default(0)
  impressions        Int                                             @default(0)
  clicks             Int                                             @default(0)
  conversions        Int                                             @default(0)
  conversionRate     Float                                           @default(0)
  clickThroughRate   Float                                           @default(0)
  metadata           Json?
  createdAt          DateTime                                        @default(now()) @db.Timestamp(6)
  updatedAt          DateTime                                        @default(now()) @db.Timestamp(6)

  @@index([productId], map: "IDX_3e3d11140030cdf88197e75368")
  @@index([sessionId], map: "IDX_699a3d2423041138690be6f1bf")
  @@index([userId], map: "IDX_c81a151836ba3a4f5335a892b8")
}

model product_similarities {
  id              String                                   @id(map: "PK_4e8188f74e4f72b71664a123f38") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  sourceProductId String                                   @db.VarChar
  targetProductId String                                   @db.VarChar
  similarityType  product_similarities_similaritytype_enum @default(attribute_based)
  score           Float
  metadata        Json?
  createdAt       DateTime                                 @default(now()) @db.Timestamp(6)
  updatedAt       DateTime                                 @default(now()) @db.Timestamp(6)

  @@unique([sourceProductId, targetProductId, similarityType], map: "UQ_5649ba4d0394eab264e2e7a1bf9")
  @@index([sourceProductId, similarityType, score], map: "IDX_226496d2da608ff25518494951")
  @@index([sourceProductId], map: "IDX_ae6523c57366e7e9803705e019")
  @@index([targetProductId], map: "IDX_d520ec2ada1fca306c09fe30fb")
}

model products {
  id                    String    @id(map: "PK_0806c755e0aca124e67c0cf6d7d") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  title                 String    @db.VarChar
  description           String
  price                 Decimal   @db.Decimal(10, 2)
  compareAtPrice        Decimal?  @db.Decimal(10, 2)
  images                String
  imageMetadata         Json?     @db.Json
  mobileImages          String?
  tabletImages          String?
  responsiveImageData   Json?     @db.Json
  thumbnail             String?   @db.VarChar
  categories            String
  tags                  String?
  merchantId            String    @db.VarChar
  brandName             String    @db.VarChar
  brandInfo             Json?     @db.Json
  isActive              Boolean   @default(true)
  inStock               Boolean   @default(true)
  featured              Boolean   @default(false)
  quantity              Int?
  values                String?
  attributes            Json?     @db.Json
  externalId            String    @db.VarChar
  externalSource        String    @db.VarChar
  slug                  String?   @db.VarChar
  createdAt             DateTime  @default(now()) @db.Timestamp(6)
  updatedAt             DateTime  @default(now()) @db.Timestamp(6)
  isSuppressed          Boolean   @default(false)
  suppressedFrom        String?
  lastValidationDate    DateTime? @db.Timestamp(6)
  accessibilityMetadata Json?     @db.Json
  imageAltTexts         Json?     @db.Json

  @@index([merchantId, inStock, isActive], map: "IDX_13bed9de854d76ba33bb1e5262")
  @@index([slug], map: "IDX_464f927ae360106b783ed0b410")
  @@index([categories], map: "IDX_5011144a776bdc61b93f223068")
  @@index([createdAt], map: "IDX_63fcb3d8806a6efd53dbc67430")
  @@index([merchantId], map: "IDX_7139c20741319eaa68e7fac20e")
  @@index([price], map: "IDX_75895eeb1903f8a17816dafe0a")
  @@index([isSuppressed], map: "IDX_76b9c7a7aeea0b0161a7624911")
  @@index([createdAt, id], map: "IDX_abc2b1511903df93a6866f0236")
  @@index([price, inStock, isActive], map: "IDX_be72bc16c9590afae35c69ecf6")
  @@index([inStock], map: "IDX_c706b0261752f188a848b40f90")
  @@index([featured], map: "IDX_ccaa77ba94e865c44e98d57da6")
  @@index([externalSource], map: "IDX_edd3b078f7874ffc47e5d9ed71")
}

model query_performance_metrics {
  id            String   @id(map: "PK_c9a7f6eda73210309c23de8abd9") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  queryId       String   @db.VarChar
  queryType     String   @db.VarChar
  executionTime Int
  parameters    Json?    @db.Json
  resultCount   Int?
  timestamp     DateTime @default(now()) @db.Timestamp(6)

  @@index([queryType], map: "IDX_b4856d4c1581cdb839d64cace3")
  @@index([queryId], map: "IDX_c7f8322996a689be04d112fa08")
  @@index([timestamp], map: "IDX_e0016daeb33c3be921cba8b393")
}

model recommendation_configs {
  id                           String                                    @id(map: "PK_eb40317f616ddf725faa5add087") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name                         String                                    @unique(map: "IDX_8568ae3bc9d92fbd86829e8e3a") @db.VarChar
  description                  String?                                   @db.VarChar
  algorithmType                recommendation_configs_algorithmtype_enum @default(content_based)
  isActive                     Boolean                                   @default(true)
  version                      Int                                       @default(1)
  parameters                   Json                                      @default("{}")
  supportedRecommendationTypes String?
  defaultLimit                 Int                                       @default(10)
  totalImpressions             Int                                       @default(0)
  totalClicks                  Int                                       @default(0)
  totalConversions             Int                                       @default(0)
  experimentId                 String?                                   @db.VarChar
  createdAt                    DateTime                                  @default(now()) @db.Timestamp(6)
  updatedAt                    DateTime                                  @default(now()) @db.Timestamp(6)
}

model review_metadata {
  id              String   @id(map: "PK_0cda7515c9ec02b49d1be451267") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  adminId         String   @db.VarChar
  notes           String?
  rejectionReason String?
  reviewedAt      DateTime @default(now()) @db.Timestamp(6)
  entity_id       String   @db.VarChar
  entity_type     String   @db.VarChar
  status          String   @db.VarChar
}

model scroll_analytics {
  id                    String                          @id(map: "PK_a2174288c28166adcc8b63c7118") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId                String?                         @db.VarChar
  sessionId             String                          @db.VarChar
  pagePath              String                          @db.VarChar
  direction             scroll_analytics_direction_enum @default(vertical)
  maxScrollDepth        Int
  pageHeight            Int
  maxScrollPercentage   Float
  scrollCount           Int
  dwellTimeSeconds      Int
  scrollDepthTimestamps Json?                           @db.Json
  deviceType            String?                         @db.VarChar
  platform              String?                         @db.VarChar
  viewportDimensions    Json?                           @db.Json
  timestamp             DateTime                        @default(now()) @db.Timestamp(6)

  @@index([timestamp], map: "IDX_02bd5f0a74777d16a9394836e1")
  @@index([pagePath], map: "IDX_1981939219eed243eea7f4ef85")
  @@index([sessionId], map: "IDX_7806acdfb02ce748c850949b45")
  @@index([userId], map: "IDX_c35347c51aa01b4d504ad51e34")
}

model search_analytics {
  id                String   @id(map: "PK_c5d5e6d6223cc70dc988d40d6d8") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  query             String   @db.VarChar
  userId            String?  @db.VarChar
  sessionId         String?  @db.VarChar
  resultCount       Int      @default(0)
  clickCount        Int      @default(0)
  conversionCount   Int      @default(0)
  hasFilters        Boolean  @default(false)
  filters           Json?    @db.Json
  categoryContext   String?  @db.VarChar
  deviceType        String?  @db.VarChar
  platform          String?  @db.VarChar
  isNlpEnhanced     Boolean  @default(false)
  isPersonalized    Boolean  @default(false)
  highlightsEnabled Boolean  @default(false)
  referrer          String?  @db.VarChar
  experimentId      String?  @db.VarChar
  metadata          Json?    @db.Json
  filterCount       Int?
  userAgent         String?  @db.VarChar
  timestamp         DateTime @default(now()) @db.Timestamp(6)

  @@index([query], map: "IDX_2eae619eaf30100f64b8a7158b")
  @@index([timestamp], map: "IDX_ec6ebf3bc08c8fb86b531086e3")
}

model session_interactions {
  id         String    @id(map: "PK_5b869418857736732b7e369aadc") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  type       String    @db.VarChar(50)
  data       Json
  metadata   Json?
  timestamp  DateTime  @db.Timestamp(6)
  durationMs Int?
  createdAt  DateTime  @default(now()) @db.Timestamp(6)
  session_id String?   @db.Uuid
  sessions   sessions? @relation(fields: [session_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_11267342392c36af31e5dfd7835")
}

model sessions {
  id                   String                 @id(map: "PK_3238ef96f18b355b671619111bc") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  sessionId            String                 @unique(map: "UQ_ba57f8421edf5e5c4e99b833811") @db.VarChar
  startTime            DateTime               @db.Timestamp(6)
  lastActivityTime     DateTime               @db.Timestamp(6)
  deviceInfo           Json?
  referrer             String?                @db.VarChar
  searchQueries        Json                   @default("[]")
  clickedResults       Json                   @default("[]")
  viewedCategories     Json                   @default("[]")
  viewedBrands         Json                   @default("[]")
  filters              Json                   @default("[]")
  userId               String?                @db.VarChar
  anonymousUserId      String?                @db.VarChar
  duration             Int?
  createdAt            DateTime               @default(now()) @db.Timestamp(6)
  updatedAt            DateTime               @default(now()) @db.Timestamp(6)
  session_interactions session_interactions[]
}

model shopify_bulk_operation_jobs {
  id                            String                                  @id(map: "PK_b68cfb8cb49cb1202808a8a2425") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  merchantId                    String                                  @db.VarChar
  shopifyBulkOperationId        String                                  @db.VarChar
  description                   String                                  @db.VarChar
  query                         String?
  status                        shopify_bulk_operation_jobs_status_enum @default(CREATED)
  statusMessage                 String?                                 @db.VarChar
  errorCode                     String?                                 @db.VarChar
  errorDetails                  String?
  resultUrl                     String?                                 @db.VarChar
  partialResultUrl              String?                                 @db.VarChar
  objectCount                   Int                                     @default(0)
  fileSize                      Int                                     @default(0)
  completedAt                   DateTime?                               @db.Timestamp(6)
  retryCount                    Int                                     @default(0)
  progressPercentage            Int                                     @default(0)
  metadata                      Json?                                   @db.Json
  connectionId                  Int?
  createdAt                     DateTime                                @default(now()) @db.Timestamp(6)
  updatedAt                     DateTime                                @default(now()) @db.Timestamp(6)
  merchant_platform_connections merchant_platform_connections?          @relation(fields: [connectionId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_8898e8d5b95f7fdf1381ce1faab")

  @@index([shopifyBulkOperationId], map: "IDX_5a0df9e0b89f69b6f620307cf2")
  @@index([merchantId], map: "IDX_74195d47974b20bdfbd2940f0c")
  @@index([status], map: "IDX_7614a0db7fdd19859c7e919c2d")
}

model user_behaviors {
  id                String                           @id(map: "PK_c345f97744cae055a1777e02c4c") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId            String                           @db.Uuid
  entityId          String                           @db.VarChar
  entityType        String                           @db.VarChar
  behaviorType      user_behaviors_behaviortype_enum
  count             Int                              @default(1)
  metadata          String?                          @db.VarChar
  createdAt         DateTime                         @default(now()) @db.Timestamp(6)
  lastInteractionAt DateTime                         @db.Timestamp(6)
  users             users                            @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_2faa3a577b9bed8e5d849a47f00")

  @@unique([userId, entityId, entityType, behaviorType], map: "IDX_6ebf6f1026bee924f2313f6b91")
  @@index([userId], map: "IDX_2faa3a577b9bed8e5d849a47f0")
  @@index([entityId], map: "IDX_9772bc434efc2df849bdb9e002")
  @@index([behaviorType], map: "IDX_a53fabd7b87d7b1c67ddab982a")
  @@index([entityType], map: "IDX_c9de1a657946d99389a44adfa4")
}

model user_engagement {
  id              String                              @id(map: "PK_9e467f686bf9fed30233cbd7bc5") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId          String?                             @db.VarChar
  sessionId       String?                             @db.VarChar
  engagementType  user_engagement_engagementtype_enum
  entityId        String?                             @db.VarChar
  entityType      String?                             @db.VarChar
  pagePath        String?                             @db.VarChar
  referrer        String?                             @db.VarChar
  durationSeconds Int?
  metadata        Json?                               @db.Json
  deviceType      String?                             @db.VarChar
  platform        String?                             @db.VarChar
  ipAddress       String?                             @db.VarChar
  userAgent       String?                             @db.VarChar
  timestamp       DateTime                            @default(now()) @db.Timestamp(6)

  @@index([timestamp], map: "IDX_0dd2497a28ea7075fdfa37582c")
  @@index([userId], map: "IDX_1b4b41eefc4625467efe0773c7")
  @@index([entityId], map: "IDX_1d9a48ae0e03b59dff6799c134")
  @@index([sessionId], map: "IDX_546b176ba2cbd85571a143b9d5")
  @@index([engagementType], map: "IDX_d75edeacaef07868a72742536b")
}

model user_experiment_assignments {
  id             String   @id(map: "PK_711cb7b4e8b38076996ae6f5170") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId         String?  @db.VarChar
  sessionId      String?  @db.VarChar
  experimentId   String   @db.VarChar
  variantId      String   @db.VarChar
  hasImpression  Boolean  @default(false)
  hasInteraction Boolean  @default(false)
  hasConversion  Boolean  @default(false)
  metadata       Json?    @db.Json
  createdAt      DateTime @default(now()) @db.Timestamp(6)
  updatedAt      DateTime @default(now()) @db.Timestamp(6)

  @@unique([sessionId, experimentId], map: "IDX_3fef0959797f243da1f5e2d127")
  @@unique([userId, experimentId], map: "IDX_76a361b67d0cd9d9879da30c59")
  @@index([sessionId], map: "IDX_2b599e83b1eff56f90b5d123eb")
  @@index([experimentId], map: "IDX_8350254f430428d37e4ffef42c")
  @@index([userId], map: "IDX_902554606bc46513b2921bcff4")
  @@index([variantId], map: "IDX_ebb2ec3f5e081b2c0f559c6cf4")
}

model user_preference_profiles {
  id                            String   @id(map: "PK_b526fd47ff80e94ce80c4fb6fa0") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId                        String   @unique(map: "REL_62b98bd1e7c34d0d0607416065") @db.Uuid
  lastUpdated                   DateTime @default(now()) @db.Timestamp(6)
  totalPageViews                Int      @default(0)
  totalProductViews             Int      @default(0)
  averageScrollDepth            Float    @default(0)
  averageProductViewTimeSeconds Float    @default(0)
  averageSessionDurationMinutes Float    @default(0)
  productEngagementCount        Int      @default(0)
  topViewedCategories           String?
  topViewedBrands               String?
  recentlyViewedProducts        String?
  categoryPreferences           Json?
  brandPreferences              Json?
  productPreferences            Json?
  viewTimeByCategory            Json?
  viewTimeByBrand               Json?
  scrollDepthByPageType         Json?
  priceRangePreferences         Json?
  hasEnoughData                 Boolean  @default(false)
  createdAt                     DateTime @default(now()) @db.Timestamp(6)
  updatedAt                     DateTime @default(now()) @db.Timestamp(6)
  users                         users    @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_62b98bd1e7c34d0d06074160658")
}

model user_preferences {
  id                 String   @id(map: "PK_e8cfb5b31af61cd363a6b6d7c25") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId             String   @unique(map: "REL_b6202d1cacc63a0b9c8dac2abd") @db.Uuid
  favoriteCategories String?
  favoriteValues     String?
  favoriteBrands     String?
  priceSensitivity   String?  @db.VarChar
  preferSustainable  Boolean  @default(false)
  preferEthical      Boolean  @default(false)
  preferLocalBrands  Boolean  @default(false)
  preferredSizes     String?
  preferredColors    String?
  preferredMaterials String?
  createdAt          DateTime @default(now()) @db.Timestamp(6)
  updatedAt          DateTime @default(now()) @db.Timestamp(6)
  users              users    @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_b6202d1cacc63a0b9c8dac2abd4")
}

model user_segments {
  id                      String                    @id(map: "PK_a6e2b9ccd13727fe23d00c4d99c") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name                    String                    @db.VarChar(255)
  description             String?
  userCount               Int                       @default(0)
  createdAt               DateTime                  @default(now()) @db.Timestamp(6)
  updatedAt               DateTime                  @default(now()) @db.Timestamp(6)
  alert_affected_segments alert_affected_segments[]
  users                   users[]
}

model users {
  id                       String                    @id(map: "PK_a3ffb1c0c8416b9fc6f907b7433") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  email                    String                    @unique(map: "UQ_97672ac88f789774dd47f7c8be3") @db.VarChar
  firstName                String                    @db.VarChar
  lastName                 String                    @db.VarChar
  password                 String                    @db.VarChar
  role                     users_role_enum           @default(USER)
  profileImage             String?                   @db.VarChar
  interests                String?
  isEmailVerified          Boolean                   @default(false)
  isMerchant               Boolean                   @default(false)
  createdAt                DateTime                  @default(now()) @db.Timestamp(6)
  updatedAt                DateTime                  @default(now()) @db.Timestamp(6)
  segment_id               String?                   @db.Uuid
  merchants                merchants[]
  user_behaviors           user_behaviors[]
  user_preference_profiles user_preference_profiles?
  user_preferences         user_preferences?
  user_segments            user_segments?            @relation(fields: [segment_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_41093f6e4ec7762e5d3f81994a3")
}

model vendor_addresses {
  id           String                            @id(map: "PK_829c2f38994151d5640c6668331") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  vendorId     String                            @db.VarChar
  addressType  vendor_addresses_addresstype_enum @default(business)
  addressLine1 String                            @db.VarChar(255)
  addressLine2 String?                           @db.VarChar(255)
  city         String                            @db.VarChar(100)
  state        String                            @db.VarChar(100)
  postalCode   String                            @db.VarChar(20)
  country      String                            @db.VarChar(100)
  isDefault    Boolean                           @default(false)
  contactName  String?                           @db.VarChar(100)
  contactPhone String?                           @db.VarChar(50)
  created_at   DateTime                          @default(now()) @db.Timestamp(6)
  updated_at   DateTime                          @default(now()) @db.Timestamp(6)
  vendor_id    String?                           @db.Uuid
  vendors      vendors?                          @relation(fields: [vendor_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_0e41c0cf6acfee2cc420df8e183")
}

model vendor_applications {
  id                 String                               @id(map: "PK_040e931a5acccc7051d7f726520") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  status             vendor_applications_status_enum      @default(pending)
  currentStep        vendor_applications_currentstep_enum @default(business_info)
  formData           Json?
  vendorId           String?                              @db.VarChar
  submittedAt        DateTime?                            @db.Timestamp(6)
  reviewStartedAt    DateTime?                            @db.Timestamp(6)
  reviewCompletedAt  DateTime?                            @db.Timestamp(6)
  reviewedBy         String?                              @db.VarChar
  adminNotes         String?
  rejectionReason    String?                              @db.VarChar
  termsAccepted      Boolean                              @default(false)
  isNotificationSent Boolean                              @default(false)
  created_at         DateTime                             @default(now()) @db.Timestamp(6)
  updated_at         DateTime                             @default(now()) @db.Timestamp(6)
  vendor_id          String?                              @unique(map: "REL_158448879d9f874af184e43cab") @db.Uuid
  vendors            vendors?                             @relation(fields: [vendor_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_158448879d9f874af184e43cabf")
  vendor_documents   vendor_documents[]
}

model vendor_banking_details {
  id                String    @id(map: "PK_2dfbf34b531c4ea61426986077e") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  vendorId          String    @db.VarChar
  bankName          String    @db.VarChar(255)
  accountHolderName String    @db.VarChar(255)
  accountNumber     String    @db.VarChar(255)
  routingNumber     String    @db.VarChar(50)
  accountType       String?   @db.VarChar(50)
  currency          String    @default("USD") @db.VarChar(3)
  isVerified        Boolean   @default(false)
  verifiedAt        DateTime? @db.Timestamp(6)
  created_at        DateTime  @default(now()) @db.Timestamp(6)
  updated_at        DateTime  @default(now()) @db.Timestamp(6)
  vendor_id         String?   @unique(map: "REL_59524db07f798e623509ca94e1") @db.Uuid
  vendors           vendors?  @relation(fields: [vendor_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_59524db07f798e623509ca94e10")
}

model vendor_documents {
  id                  String                             @id(map: "PK_b6aa864f4d6f4a283445266a4dc") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  vendorId            String                             @db.VarChar
  documentType        vendor_documents_documenttype_enum @default(other)
  status              vendor_documents_status_enum       @default(pending)
  name                String                             @db.VarChar(255)
  filePath            String
  fileSize            Int?
  mimeType            String                             @db.VarChar(100)
  originalFilename    String                             @db.VarChar(255)
  checksum            String?                            @db.VarChar
  verifiedBy          String?                            @db.VarChar
  verifiedAt          DateTime?                          @db.Timestamp(6)
  autoVerifiedAt      DateTime?                          @db.Timestamp(6)
  notes               String?
  rejectionReason     String?                            @db.VarChar
  applicationId       String?                            @db.VarChar
  created_at          DateTime                           @default(now()) @db.Timestamp(6)
  updated_at          DateTime                           @default(now()) @db.Timestamp(6)
  vendor_id           String?                            @db.Uuid
  application_id      String?                            @db.Uuid
  vendors             vendors?                           @relation(fields: [vendor_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_218ad2aece37d1c3bf7cfe6c72f")
  vendor_applications vendor_applications?               @relation(fields: [application_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_e80141e48f8cbcc8d9e0889084f")
}

model vendors {
  id                     String                    @id(map: "PK_9c956c9797edfae5c6ddacc4e6e") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  businessName           String                    @db.VarChar(255)
  businessEmail          String                    @unique(map: "IDX_b6ab7752a3938c1089e2c2156e") @db.VarChar(255)
  phone                  String                    @db.VarChar(50)
  businessType           vendors_businesstype_enum @default(individual)
  website                String?                   @db.VarChar(255)
  description            String?
  status                 vendors_status_enum       @default(pending)
  businessId             String?                   @db.VarChar(255)
  productCategories      String?
  isVerified             Boolean                   @default(false)
  verifiedAt             DateTime?                 @db.Timestamp(6)
  verifiedBy             String?                   @db.VarChar
  rejectionReason        String?                   @db.VarChar
  commissionRate         Decimal                   @default(0) @db.Decimal(10, 2)
  canListNewProducts     Boolean                   @default(true)
  productsCount          Int                       @default(0)
  created_at             DateTime                  @default(now()) @db.Timestamp(6)
  updated_at             DateTime                  @default(now()) @db.Timestamp(6)
  vendor_addresses       vendor_addresses[]
  vendor_applications    vendor_applications?
  vendor_banking_details vendor_banking_details?
  vendor_documents       vendor_documents[]
}

enum alerts_severity_enum {
  HIGH
  MEDIUM
  LOW
}

enum alerts_status_enum {
  ACTIVE
  ACKNOWLEDGED
  RESOLVED
}

enum alerts_type_enum {
  PERSONALIZATION_DROP
  UNUSUAL_PATTERN
  AB_TEST_RESULT
}

enum business_metrics_metrictype_enum {
  revenue
  orders
  average_order_value
  conversion_rate
  product_views
  cart_adds
  checkout_starts
  checkout_completions
  cart_abandonment
  new_users
  returning_users
  search_count
  search_conversion
  merchant_revenue
  platform_revenue
}

enum business_metrics_timegranularity_enum {
  hourly
  daily
  weekly
  monthly
}

enum experiment_results_resulttype_enum {
  impression
  click
  conversion
  revenue
  engagement
  custom
}

enum experiments_status_enum {
  draft
  running
  paused
  completed
  archived
}

enum experiments_type_enum {
  search_algorithm
  ui_component
  personalization
  recommendation
  pricing
  content
  feature_flag
}

enum heatmap_data_interactiontype_enum {
  click
  hover
  scroll_pause
  form_interaction
  selection
}

enum merchant_ad_campaigns_status_enum {
  draft
  active
  paused
  completed
}

enum merchant_ad_campaigns_targetaudience_enum {
  all
  previous_visitors
  cart_abandoners
  previous_customers
}

enum merchant_ad_campaigns_type_enum {
  product_promotion
  retargeting
  brand_awareness
}

enum order_fulfillments_status_enum {
  unfulfilled
  partially_fulfilled
  fulfilled
  processing
  cancelled
  failed
}

enum orders_paymentstatus_enum {
  pending
  processing
  completed
  failed
  refunded
  partially_refunded
  on_hold
  cancelled
  awaiting_confirmation
}

enum orders_status_enum {
  pending
  processing
  shipped
  delivered
  completed
  cancelled
  returned
  refunded
  on_hold
  failed
}

enum orders_syncstatus_enum {
  pending
  synced
  failed
  out_of_sync
  syncing
  not_required
}

enum product_recommendations_recommendationtype_enum {
  similar_products
  frequently_bought_together
  complementary_products
  personalized
  trending
  top_rated
  recently_viewed
  price_drop
  seasonal
  featured
}

enum product_similarities_similaritytype_enum {
  attribute_based
  collaborative_filtering
  content_based
  hybrid
  purchase_based
  view_based
  category_based
  price_based
  brand_based
  embedding_based
}

enum recommendation_configs_algorithmtype_enum {
  content_based
  collaborative_filtering
  hybrid
  rule_based
  popularity_based
  attribute_based
  embedding_based
  custom
}

enum scroll_analytics_direction_enum {
  vertical
  horizontal
}

enum shopify_bulk_operation_jobs_status_enum {
  CREATED
  RUNNING
  COMPLETED
  FAILED
  CANCELED
  TIMED_OUT
}

enum user_behaviors_behaviortype_enum {
  view
  search
  favorite
  add_to_cart
  purchase
}

enum user_engagement_engagementtype_enum {
  page_view
  product_view
  category_view
  brand_view
  search
  add_to_cart
  remove_from_cart
  checkout_start
  checkout_complete
  favorite
  unfavorite
  share
  filter_use
  sort_use
  recommendation_click
  signup
  login
  account_update
}

enum users_role_enum {
  USER
  MERCHANT
  ADMIN
}

enum vendor_addresses_addresstype_enum {
  business
  shipping
  billing
  warehouse
}

enum vendor_applications_currentstep_enum {
  business_info
  product_info
  payment_info
  verification
  completed
}

enum vendor_applications_status_enum {
  pending
  under_review
  approved
  rejected
  suspended
}

enum vendor_documents_documenttype_enum {
  business_license
  identity_document
  tax_certificate
  bank_statement
  other
}

enum vendor_documents_status_enum {
  pending
  needs_review
  verified
  rejected
}

enum vendors_businesstype_enum {
  individual
  llc
  corporation
  partnership
  other
}

enum vendors_status_enum {
  pending
  under_review
  approved
  rejected
  suspended
}


